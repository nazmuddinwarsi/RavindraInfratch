@model RavindraInfratch.Models.PhotoModel
@{

	ViewBag.Title = "Purchase Photos";


	Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<section class="body">

	<!-- start: header -->
	<header class="header">
		@* <uc1:AdminHeader ID="AdminHeader1" runat="server" /> *@
		@Html.Partial("_AdminHeader")
		<!-- start: search & user box -->
		<!-- end: search & user box -->
	</header>
	<!-- end: header -->

	<div class="inner-wrapper">
		<!-- start: sidebar -->
		@* @{
		Html.RenderPartial("_AdminMenu");
		} *@
		@Html.Partial("_AdminMenu")
		<!-- end: sidebar -->
		<div>

			<!-- Modal Basic -->
			<!-- Modal Bootstrap -->

		</div>

		<section role="main" class="content-body card-margin">


			<!-- start: page -->
			@* @using (Html.BeginForm("Registation", "Admin", FormMethod.Post)) *@
			<form method="post" enctype="multipart/form-data" action="AddPurchase">
				<input type="text" asp-for="Id" hidden />
				<div class="row">
					 

					 
					<div class="col-lg-6">
					 

						@{
							var PhotoHidden = "";
						}
						 
						 
							<div>
								<section class="card form-wizard" id="w1">
									<header class="card-header">
										<div class="card-actions">
											<a href="#" class="card-action card-action-toggle" data-card-toggle></a>
											<a href="#" class="card-action card-action-dismiss" data-card-dismiss></a>
										</div>

										<h2 class="card-title">Upload Photos</h2>
									</header>
									<div class="card-body card-body-nopadding">

										<div class="form-horizontal" novalidate="novalidate">
											<div>
												<div id="w1-account" class="tab-pane p-3 ">
													<div class="form-group row">
														@* <label class="col-lg-3 control-label text-lg-right pt-2">Photo Upload</label> *@
														<div class="col-lg-9">
															<div class="input-group mb-12">
																<label class="input-group-text">Upload Photo</label>
																<input type="file" class="form-control" asp-for="imgPhoto">
																@* <span asp-validation-for="Reg.Photo" class="text-danger"></span> *@

															</div>


														</div>
														<div class="col-lg-3">
															@* @if (Model.Banknoc != null)
														{
														<a href="../../Upload/@Model.Banknoc"><img src="../../Upload/@Model.Banknoc" width="100" /></a>
														} *@
															@* <a asp-controller="Admin" asp-action="AddPhoto" class="btn btn-warning mt-2 float-right" asp-route-id="@Model.Id">Upload</a> *@
															<input type="submit" value="Upload" class="btn btn-warning mt-2 float-right" />

														</div>
													</div>
													<div class="form-group row" hidden>

														<div class="col-lg-9">
															<div class="input-group mb-9">
																<label class="input-group-text">Upload Video</label>
																<input type="file" class="form-control" id="videoPlayer" asp-for="imgVideo">
																@* <span asp-validation-for="Reg.AadharFront" class="text-danger"></span> *@
															</div>

														</div>
														<div class="col-lg-3">
															@* @if (Model.Oldagreement != null)
														{
														<a href="../../Upload/@Model.Oldagreement"><img src="../../Upload/@Model.Oldagreement" width="100" /></a>
														} *@
															@* <a asp-controller="Admin" asp-action="AddVideo" class="btn btn-warning mt-2 float-right" asp-route-id="@Model.Id">Upload</a> *@
															<input type="submit" value="Upload" class="btn btn-warning mt-2 float-right" />
														</div>
													</div>

												</div>


											</div>
										</div>
									</div>
									<div class="card-footer">
									<div class="form-group row">
									
										@foreach (var Data in Model.PhotosList)
										{
											 
											var moid = Data.Id;
											@if (Data.Ttype == "Photo")
											{

											<div class="col-lg-4" style="padding-bottom:10px;">
												 
													<a class="mb-1 mt-1 mr-1 modal-basic" href="#@Data.Id"><img src="~/../images/img_delete.png" alt="Delete"  /></a>
												<a href="../../Upload/@Data.Tpath" style="padding-right:10px"><img src="../../Upload/@Data.Tpath" width="100" /></a>
											
											</div>
											}
											else
											{
												<a href="../../Upload/@Data.Tpath">
													<video controls="controls">
														<source src="file.mp4" type="video/mp4" />
														<source src="file.webm" type="video/webm" />
														<source src="file.ogv" type="video/ogg" />
													</video>
												</a>
											}
											<div id="@moid" class="modal-block mfp-hide">
												<section class="card">
													<header class="card-header">
														<h2 class="card-title">Are you sure?</h2>
													</header>
													<div class="card-body">
														<div class="modal-wrapper">
															<div class="modal-text">
																<p class="mb-0">Are you sure that you want to delete this data?</p>
															</div>
														</div>
													</div>
													<footer class="card-footer">
														<div class="row">
															<div class="col-md-12 text-right">
																<a asp-controller="Admin" asp-action="DelPhoto" class="btn btn-primary" asp-route-id="@Data.Id">Confirm</a>


																<button class="btn btn-default modal-dismiss">Cancel</button>
															</div>
														</div>
													</footer>
												</section>
											</div>
										}
										</div>
										@* <input type="submit" value="Upload" class="btn btn-warning mt-2 float-right" /> *@
									</div>
								
								</section>
							</div>
						 
						 

					 
					 
						 


					</div>

 

				</div>
			</form>
			<!-- end: page -->
		</section>
		@section Scripts
  {
			<script>
				var openfile = function (event) {
					var file = event.target.files[0];
					var videoPlayer = document.getElementById('videoPlayer');
					var url = URL.createObjectURL(file);
					videoPlayer.setAttribute('src', url);
				}
			</script>
			<partial name="_ValidationScriptsPartial" />

		}
	</div>


</section>